<div class="todo-container">
  <h1>üìã –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á</h1>

  <div class="form-row">
    <input [(ngModel)]="newTitle" placeholder="–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞" />
    <input type="date" [(ngModel)]="newDueDate" />
    <button (click)="addTodo()">–î–æ–±–∞–≤–∏—Ç—å</button>
  </div>

  <div class="filter-row">
    <label for="filter">–§–∏–ª—å—Ç—Ä:</label>
    <select id="filter" [(ngModel)]="selectedStatus">
      <option value="all">–í—Å–µ</option>
      <option value="active">–ê–∫—Ç–∏–≤–Ω—ã–µ</option>
      <option value="completed">–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ</option>
      <option value="archived">–ê—Ä—Ö–∏–≤</option>
    </select>
  </div>

  <ul>
    <li
      *ngFor="let todo of todos"
      [ngClass]="{
      'completed': todo.status === 'completed',
      'archived': todo.status === 'archived'
    }"
    >
      <div class="task-header">
        <input [(ngModel)]="todo.title" (blur)="editTitle(todo.id, todo.title)" />
        <button class="delete" (click)="deleteTodo(todo.id)">
          <span class="material-icons">–£–¥–∞–ª–∏—Ç—å</span>
        </button>
      </div>

      <div class="task-meta">
        <label [attr.for]="'status-' + todo.id">–°—Ç–∞—Ç—É—Å:</label>
        <select
          [id]="'status-' + todo.id"
          [(ngModel)]="todo.status"
          (change)="updateStatus(todo.id, todo.status)"
        >
          <option value="active">–ê–∫—Ç–∏–≤–Ω–∞</option>
          <option value="completed">–í—ã–ø–æ–ª–Ω–µ–Ω–∞</option>
          <option value="archived">–ê—Ä—Ö–∏–≤</option>
        </select>
      </div>

      <div class="task-meta">
        <label [attr.for]="'due-' + todo.id">–î–µ–¥–ª–∞–π–Ω:</label>
        <input
          [id]="'due-' + todo.id"
          type="date"
          [(ngModel)]="todo.dueDate"
          (change)="updateDueDate(todo.id, todo.dueDate || '')"
        />
      </div>

      <div class="meta">
        <span>üïí –°–æ–∑–¥–∞–Ω–∞: {{ todo.createdAt || '‚Äî' }}</span>
        <span>üìÖ –î–µ–¥–ª–∞–π–Ω: {{ todo.dueDate || '‚Äî' }}</span>
      </div>
    </li>
  </ul>
</div>
